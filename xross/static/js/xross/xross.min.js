xross={_handlers_registry:{},_default_handler:"ajax",data_items_prefix:"x",debug:false,automate:function(e,t){if(e===undefined){e="xross"}$(function(){$.each($("."+e),function(e,n){xross.describe("#"+$(n).attr("id"),t)})})},bootstrap:function(){this.register_handler("ajax",this.handlers.ajax)},register_handler:function(e,t,n){if(typeof t==="object"){n=t.params;t=t.func}if(n===undefined){n={}}this.utils.log(function(){return"Registering `"+e+"` handler."});this._handlers_registry[e]={func:t,params:n}},describe:function(e,t,n){if(typeof t!=="string"){n=t;t=this._default_handler}if(n===undefined){n={}}var r=this._handlers_registry[t];if(r===undefined){if(t===this._default_handler){xross.bootstrap();r=this._handlers_registry[t]}else{throw{message:"You are trying to use an unregistered handler:  `"+r+"`."}}}$(function(){if(!(e instanceof Array)){e=[e]}$.each(e,function(e,i){xross.utils.log(function(){return"Describing `"+i+"` using `"+t+"` handler."});r.func(i,$.extend({},r.params,n))})})},utils:{evaluate:function(e,t){if(e instanceof Function){return e(t)}return e},log:function(e){if(xross.debug){console.log("xross: "+e())}},get_element_data:function(e){var t={},n=xross.data_items_prefix;$.each(e.data(),function(e,r){var i=typeof r;if(i=="string"||i=="number"||i=="boolean"){if(e.slice(0,n.length)==n){e=e.slice(n.length)}t[e]=r}});return t}},handlers:{ajax:{func:function(e,t){var n=e,r=$(e),i=r.attr("id");if(t.op){i=t.op}t=$.extend({},t,xross.utils.get_element_data(r));if(t.event==="auto"){t.event="ready";if(r.length){var s=r.prop("tagName").toLowerCase(),o={button:"click",a:"click"},u=o[s];if(u!==undefined){t.event=u}}}if(t.event==="ready"){if(!r.length){xross.utils.log(function(){return"Skipping binding `ready` for not found `"+e+"` element."});return}n={}}if(typeof t.target==="string"){if(t.target==="this"){t.target=e}else{var a="#"+t.target;t.target=function(){return $(a)}}}if(typeof t.success==="string"){var f={fill:function(e,t){e.html(t)},replace:function(e,t){e.replaceWith(t)},append:function(e,t){e.append(t)},prepend:function(e,t){e.prepend(t)}}[t.success];t.success=function(t){return function(n,i,s){xross.utils.log(function(){return"Running generic ajax success function for `"+e+"` element."});f($(xross.utils.evaluate(t,r)),n)}}}t.success=xross.utils.evaluate(t.success,t.target);xross.utils.log(function(){return"Binding `"+t.event+"` for `"+e+"`."});$(document).on(t.event,n,function(n){var r=$.extend({},{op:i},xross.utils.get_element_data($(e))),s=null;xross.utils.log(function(){return"Triggering `"+t.event+"` for `"+e+"` with `"+$.param(r)+"`."});if(t.form){if(typeof t.form==="string"){s=$("#"+t.form)}else{s=t.form}if(s.length){r=$.param(r)+"&"+s.serialize()}}$.ajax({type:t.method,data:r,success:t.success,cache:false,dataType:"html"});n.preventDefault()})},params:{method:"GET",event:"auto",target:"this",success:"fill",form:null,op:null}}}}